<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galeria Coworking Odontol√≥gico</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FBF8E9', 
                        secondary: '#FBF8E9', 
                        accent: '#996E5C', 
                        textdark: '#89878C', 
                        textlight: '#FBF8E9' 
                    }
                }
            }
        }
    </script>
    <style>
        body { box-sizing: border-box; color: #89878C; }
        .logo-principal { font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; font-weight: 700; text-transform: lowercase; }
        .logo-secundaria { font-family: ui-sans-serif, system-ui, sans-serif; font-weight: 500; letter-spacing: 0.1em; text-transform: uppercase; }
        .gradient-bg { background: linear-gradient(135deg, #FBF8E9 0%, #EFEBE0 100%); }
        .card-hover, .button-effect { transition: all 0.4s ease; position: relative; overflow: hidden; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1), 0 0 10px rgba(182, 224, 198, 0.5); }
        .calendar-day { transition: all 0.2s ease; }
        .calendar-day:hover { background-color: #e0f2fe; }
        .occupied { background-color: #fecaca !important; color: #991b1b; }
        .selected { background-color: #06B6D4 !important; color: white; font-weight: bold; }
        .tooltip { position: relative; }
        .tooltip .tooltiptext { visibility: hidden; width: 200px; background-color: #3C403B; color: #fff; text-align: center; border-radius: 6px; padding: 8px; position: absolute; z-index: 1000; bottom: 125%; left: 50%; margin-left: -100px; opacity: 0; transition: opacity 0.3s; font-size: 12px; }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
        .tooltip .tooltiptext::after { content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: #3C403B transparent transparent transparent; }
    </style>
    
    <script>
        // 1. CONFIGURA√á√ÉO E INICIALIZA√á√ÉO DO FIREBASE
        const firebaseConfig = {
            apiKey: "SUA_API_KEY_AQUI", // <--- TROQUE ESTE VALOR PELO SEU REAL
            authDomain: "mari-projeto-f5877.firebaseapp.com",
            projectId: "mari-projeto-f5877",
            storageBucket: "mari-projeto-f5877.firebasestorage.app",
            messagingSenderId: "360074059778",
            appId: "1:360074059778:web:e42b2d8b6d18cf7992071b",
            measurementId: "G-DPNMK7E2KB"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(app);

        let selectedDate = null;
        let selectedPlan = null;
        let selectedPlanPrice = 0;
        let occupiedSlots = {}; 
        let calendarLoaded = false;
        
        // 2. BUSCA DADOS DO FIREBASE
        async function fetchOccupiedSlots() {
            try {
                const snapshot = await db.collection("reservations").get(); 
                
                occupiedSlots = {};
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const date = data.date; 
                    if (!occupiedSlots[date]) occupiedSlots[date] = [];
                    occupiedSlots[date].push({
                        time: data.time,
                        client: data.clientDescription || "Ocupado"
                    });
                });
                
                generateCalendar(); 
                calendarLoaded = true;
                
            } catch (error) {
                console.error("ERRO FIREBASE. Verifique API Key e Regras.", error);
                generateCalendar(); 
                calendarLoaded = true;
            }
        }

        // 3. FUN√á√ÉO DE GERA√á√ÉO DO CALEND√ÅRIO
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            const firstDay = new Date(currentYear, currentMonth, 1);
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const startingDayOfWeek = firstDay.getDay(); 
            
            const monthNames = ['Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho',
                'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];
            
            let calendarHTML = `
                <div class="text-center mb-4">
                    <h5 class="text-lg font-semibold">${monthNames[currentMonth]} ${currentYear}</h5>
                </div>
                <div class="grid grid-cols-7 gap-1 mb-2">
                    <div class="text-center text-sm font-medium text-gray-500 p-2">Dom</div>
                    <div class="text-center text-sm font-medium text-gray-500 p-2">Seg</div>
                    <div class="text-center text-sm font-medium text-gray-500 p-2">Ter</div>
                    <div class="text-center text-sm font-medium text-gray-500 p-2">Qua</div>
                    <div class="text-center text-sm font-medium text-gray-500 p-2">Qui</div>
                    <div class="text-center text-sm font-medium text-gray-500 p-2">Sex</div>
                    <div class="text-center text-sm font-medium text-gray-500 p-2">S√°b</div>
                </div>
                <div class="grid grid-cols-7 gap-1">
            `;
            
            for (let i = 0; i < startingDayOfWeek; i++) {
                calendarHTML += '<div class="p-2"></div>';
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const date = new Date(currentYear, currentMonth, day);
                const dateString = date.toISOString().split('T')[0];
                
                const todayOnly = new Date(today.getFullYear(), today.getMonth(), today.getDate());
                const currentDayOnly = new Date(currentYear, currentMonth, day);
                const isPast = currentDayOnly < todayOnly; 
                
                const dayOccupied = occupiedSlots[dateString];
                const hasOccupied = dayOccupied && dayOccupied.length > 0;
                
                let dayClass = 'calendar-day p-2 text-center cursor-pointer rounded-lg';
                let tooltipContent = '';
                
                if (isPast) {
                    dayClass += ' text-gray-400 cursor-not-allowed';
                } else if (hasOccupied) {
                    dayClass += ' bg-yellow-100 text-yellow-800 tooltip';
                    const occupiedInfo = dayOccupied.map(slot => {
                        if (slot.client.includes('Manh√£')) return 'Manh√£ (08h-12h)';
                        if (slot.client.includes('Tarde')) return 'Tarde (13h-17h)';
                        if (slot.client.includes('Dia Completo')) return 'Dia Completo';
                        return `${slot.time}`;
                    });
                    const uniqueInfo = [...new Set(occupiedInfo)];
                    tooltipContent = `<span class="tooltiptext">Ocupado: ${uniqueInfo.join(', ')}</span>`;
                } else {
                    dayClass += ' hover:bg-primary hover:bg-opacity-50'; 
                }
                
                calendarHTML += `<div class="${dayClass}" onclick="${!isPast ? `selectDate('${dateString}', this)` : ''}">${day}${tooltipContent}</div>`;
            }
            
            calendarHTML += '</div>';
            calendar.innerHTML = calendarHTML;
        }

        function selectDate(dateString, element) {
            document.querySelectorAll('.calendar-day').forEach(day => day.classList.remove('selected'));
            element.classList.add('selected');
            selectedDate = dateString;
            updateTimeSlots();
        }

        // 4. SELE√á√ÉO DE PLANO E ATUALIZA√á√ÉO DE HOR√ÅRIOS
        function selectPlan(plan, price) {
            selectedPlan = plan;
            selectedPlanPrice = price;
            
            const planNames = {
                'hora': 'Por Hora - R$ 70,00',
                'turno': 'Por Turno - R$ 150,00',
                'dia': 'Dia Completo - R$ 300,00'
            };
            
            document.getElementById('selectedPlan').textContent = planNames[plan];
            calculateTotal(); 
            updateTimeSlots(); 
            
            document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
        }

        function updateTimeSlots() {
            const timeSlot = document.getElementById('timeSlot');
            
            if (!selectedPlan) {
                timeSlot.innerHTML = '<option value="">Selecione um plano no topo</option>';
                return;
            }
            if (!selectedDate) {
                timeSlot.innerHTML = '<option value="">Selecione a data no calend√°rio</option>';
                return;
            }

            const occupiedSlots_day = occupiedSlots[selectedDate] || [];
            
            let options = '<option value="">Selecione o hor√°rio</option>';
            
            if (selectedPlan === 'hora') {
                const hours = ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'];
                hours.forEach(hour => {
                    if (!occupiedSlots_day.some(slot => slot.time === hour)) {
                        options += `<option value="${hour}">${hour} (1 hora)</option>`;
                    }
                });
            } else if (selectedPlan === 'turno') {
                const morningOccupied = occupiedSlots_day.some(slot => slot.client.includes('Manh√£') || slot.client.includes('Dia Completo'));
                const afternoonOccupied = occupiedSlots_day.some(slot => slot.client.includes('Tarde') || slot.client.includes('Dia Completo'));
                
                if (!morningOccupied) options += '<option value="08:00">Turno Manh√£ (08h √†s 12h)</option>';
                if (!afternoonOccupied) options += '<option value="13:00">Turno Tarde (13h √†s 17h)</option>';
            } else if (selectedPlan === 'dia') {
                const dayOccupied = occupiedSlots_day.length > 0;
                if (!dayOccupied) options += '<option value="08:00">Dia Completo (08h √†s 18h)</option>';
            }
            
            timeSlot.innerHTML = options;
        }

        // 5. C√ÅLCULO DO TOTAL (Soma do plano + equipamentos)
        function calculateTotal() {
            let total = selectedPlanPrice;
            
            // Define o multiplicador de horas com base no plano selecionado
            let hours = selectedPlan === 'hora' ? 1 : (selectedPlan === 'turno' ? 4 : (selectedPlan === 'dia' ? 10 : 0));
            
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                // L√≥gica de soma: Multiplica por 'hours' ou usa pre√ßo fixo
                switch(checkbox.value) { 
                    case 'fotopolimerizador': total += 5 * hours; break;
                    case 'ultrassom': total += 5 * hours; break;
                    case 'autoclave': total += 20; break; 
                    case 'laser': total += 20 * hours; break;
                    case 'raioX': total += 50 * hours; break;
                    case 'kitDentistica': total += 20 * hours; break;
                    case 'kitProtese': total += 30 * hours; break;
                    case 'kitCirurgia': total += 80; break; 
                    case 'kitClareamentoConsultorio': total += 65 * hours; break;
                    case 'kitClareamentoCaseiro': total += 90; break; 
                }
            });
            
            document.getElementById('totalPrice').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }
        
        // 6. FLUXO DE PAGAMENTO E CONFIRMA√á√ÉO DE AGENDAMENTO
        function confirmPayment() {
            closePixModal();
            
            const timeSlot = document.getElementById('timeSlot').value;
            const clientName = document.getElementById('clientName').value;
            const clientEmail = document.getElementById('email').value;
            const clientCRO = document.getElementById('cro').value;
            const clientPhone = document.getElementById('phone').value;
            const selectedTimeText = document.getElementById('timeSlot').selectedOptions[0].text;
            const totalAmountText = document.getElementById('totalPrice').textContent;
            const totalAmount = parseFloat(totalAmountText.replace('R$', '').replace(',', '.').trim());
            
            const selectedEquipment = [];
            // L√≥gica para obter os nomes dos equipamentos selecionados
            const equipmentNames = {
                'fotopolimerizador': 'Fotopolimerizador',
                'ultrassom': 'Ultrassom e jato de bicarbonato',
                'autoclave': 'Autoclave',
                'laser': 'Laser de baixa pot√™ncia',
                'raioX': 'Raio X port√°til com sensor digital',
                'kitDentistica': 'Kit de dent√≠stica',
                'kitProtese': 'Kit de pr√≥tese',
                'kitCirurgia': 'Kit de cirurgia est√©ril',
                'kitClareamentoConsultorio': 'Kit clareamento consult√≥rio',
                'kitClareamentoCaseiro': 'Kit clareamento caseiro'
            };
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                selectedEquipment.push(equipmentNames[checkbox.value] || checkbox.value);
            });
            
            // Defini√ß√£o da descri√ß√£o da reserva para o calend√°rio (bloqueio de slots)
            let clientDescription = selectedPlan; 
            if (selectedPlan === 'hora') clientDescription = `${clientName} - ${selectedTimeText}`;
            if (selectedPlan === 'turno') clientDescription = `${clientName} - ${selectedTimeText.includes('Manh√£') ? 'Turno Manh√£' : 'Turno Tarde'}`;
            if (selectedPlan === 'dia') clientDescription = `${clientName} - Dia Completo`;
            
            // DADOS PARA SALVAR NO FIRESTORE
            const reservationData = {
                clientName: clientName,
                cro: clientCRO,
                phone: clientPhone,
                email: clientEmail,
                date: selectedDate, // A data salva que bloqueia o dia no calend√°rio
                time: timeSlot,
                clientDescription: clientDescription, 
                plan: selectedPlan,
                totalAmount: totalAmount,
                equipment: selectedEquipment,
                paymentStatus: 'Confirmado PIX', 
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };

            // SALVA NO FIRESTORE
            db.collection("reservations").add(reservationData) 
                .then((docRef) => {
                    console.log("Reserva salva com ID:", docRef.id);
                    // Aqui voc√™ chamaria as fun√ß√µes de envio de email
                    
                    document.getElementById('confirmationEmail').textContent = clientEmail;
                    document.getElementById('successModal').classList.remove('hidden');
                    document.getElementById('successModal').classList.add('flex');
                    
                })
                .catch((error) => {
                    console.error("Erro ao salvar reserva no Firestore:", error);
                    alert("Erro ao finalizar reserva. Verifique suas Regras de Seguran√ßa. Erro: " + error.message);
                });
        }
        
        // Fun√ß√µes Auxiliares (Modais e Utilidades)
        function scrollToBooking() {
            document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
        }
        function copyPixKey() {
            const pixKey = document.getElementById('pixKey').textContent;
            navigator.clipboard.writeText(pixKey).then(() => {
                alert('Chave PIX copiada!');
            });
        }
        function closePixModal() {
            document.getElementById('pixModal').classList.add('hidden');
            document.getElementById('pixModal').classList.remove('flex');
        }
        function closeSuccessModal() {
            document.getElementById('successModal').classList.add('hidden');
            document.getElementById('successModal').classList.remove('flex');
            
            document.getElementById('bookingForm').reset();
            selectedDate = null;
            selectedPlan = null;
            selectedPlanPrice = 0;
            document.getElementById('selectedPlan').textContent = 'Selecione um plano acima';
            document.getElementById('totalPrice').textContent = 'R$ 0,00';
            
            fetchOccupiedSlots(); // Atualiza o calend√°rio
        }

        // 7. INICIALIZA√á√ÉO
        document.addEventListener('DOMContentLoaded', function() {
            fetchOccupiedSlots(); 
            
            // Conting√™ncia para garantir que o calend√°rio apare√ßa em 3 segundos
            setTimeout(() => { if (!calendarLoaded) generateCalendar(); }, 3000);

            // Listener para submiss√£o do formul√°rio (abre o modal PIX)
            document.getElementById('bookingForm').addEventListener('submit', function(e) {
                e.preventDefault();
                if (!selectedDate || !selectedPlan || !document.getElementById('timeSlot').value) {
                    alert('Por favor, selecione uma data, um plano e um hor√°rio.');
                    return;
                }
                
                const total = document.getElementById('totalPrice').textContent;
                document.getElementById('pixAmount').textContent = total;
                
                document.getElementById('pixModal').classList.remove('hidden');
                document.getElementById('pixModal').classList.add('flex');
            });

            // LISTENERS CR√çTICOS: A CADA CLIQUE NO CHECKBOX, RECALCULA O TOTAL!
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', calculateTotal);
            });
        });
    </script>
    
</head>
<body>
    <header class="bg-textdark text-textlight shadow-lg sticky top-0 z-50">
        </header>

    <section id="home" class="gradient-bg text-textdark py-20 relative overflow-hidden">
        </section>

    <section id="about" class="py-16 bg-secondary"> 
        </section>

    <section id="services" class="py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <h3 class="text-4xl font-bold text-center text-textdark mb-12">Valores e Servi√ßos</h3>
            
            <div class="grid md:grid-cols-3 gap-8 mb-12">
                <div class="bg-white rounded-xl shadow-lg p-8 card-hover relative overflow-hidden">
                    <div class="relative z-10">
                        <h4 class="text-2xl font-bold text-accent mb-4">Por Hora</h4>
                        <div class="text-4xl font-bold text-textdark mb-4">R$ 70<span class="text-lg text-gray-500">/hora</span></div>
                        <p class="text-gray-600 mb-6">Ideal para consultas r√°pidas e procedimentos simples</p>
                        <button onclick="selectPlan('hora', 70)" class="w-full bg-accent text-white py-3 rounded-lg hover:bg-cyan-600 transition-colors button-effect">
                            Selecionar
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-8 card-hover border-2 border-accent relative overflow-hidden">
                    <div class="relative z-10">
                        <div class="bg-accent text-white px-3 py-1 rounded-full text-sm inline-block mb-4">Mais Popular</div>
                        <h4 class="text-2xl font-bold text-accent mb-4">Por Turno</h4>
                        <div class="text-4xl font-bold text-textdark mb-4">R$ 150<span class="text-lg text-gray-500">/turno</span></div>
                        <p class="text-gray-600 mb-6">Manh√£: 08h √†s 12h | Tarde: 13h √†s 17h</p>
                        <button onclick="selectPlan('turno', 150)" class="w-full bg-accent text-white py-3 rounded-lg hover:bg-cyan-600 transition-colors button-effect">
                            Selecionar
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-8 card-hover relative overflow-hidden">
                    <div class="relative z-10">
                        <h4 class="text-2xl font-bold text-accent mb-4">Dia Completo</h4>
                        <div class="text-4xl font-bold text-textdark mb-4">R$ 300<span class="text-lg text-gray-500">/dia</span></div>
                        <p class="text-gray-600 mb-6">8h √†s 18h - Para dias intensivos de atendimento</p>
                        <button onclick="selectPlan('dia', 300)" class="w-full bg-accent text-white py-3 rounded-lg hover:bg-cyan-600 transition-colors button-effect">
                            Selecionar
                        </button>
                    </div>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h4 class="text-2xl font-bold text-textdark mb-6">Equipamentos Adicionais</h4>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Fotopolimerizador</span><span class="font-semibold text-accent">R$ 5,00/h</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Ultrassom e jato de bicarbonato</span><span class="font-semibold text-accent">R$ 5,00/h</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Autoclave</span><span class="font-semibold text-accent">R$ 20,00/ciclo</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Laser de baixa pot√™ncia</span><span class="font-semibold text-accent">R$ 20,00/h</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Raio X port√°til com sensor digital</span><span class="font-semibold text-accent">R$ 50,00/h</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Kit de dent√≠stica</span><span class="font-semibold text-accent">R$ 20,00/h</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Kit de pr√≥tese</span><span class="font-semibold text-accent">R$ 30,00/h</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Kit de cirurgia est√©ril</span><span class="font-semibold text-accent">R$ 80,00/kit</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Kit clareamento consult√≥rio</span><span class="font-semibold text-accent">R$ 65,00/h</span></div>
                        <div class="flex justify-between items-center p-3 bg-primary bg-opacity-20 rounded-lg"><span>Kit clareamento caseiro</span><span class="font-semibold text-accent">R$ 90,00/kit</span></div>
                    </div>
                </div>
                <div></div>
            </div>
        </div>
    </section>

    <section id="booking" class="py-16 bg-secondary"> 
        <div class="container mx-auto px-6">
            <h3 class="text-4xl font-bold text-center text-textdark mb-12">Fazer Reserva</h3>
            
            <div class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-xl p-6 shadow-lg">
                        <h4 class="text-xl font-semibold mb-4 text-textdark">Selecione a Data</h4>
                        <div id="calendar" class="bg-gray-50 rounded-lg p-4">
                            Carregando Calend√°rio...
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6 shadow-lg">
                        <h4 class="text-xl font-semibold mb-4 text-textdark">Detalhes da Reserva</h4>
                        <form id="bookingForm" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome Completo</label>
                                <input type="text" id="clientName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">CRO</label>
                                <input type="text" id="cro" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Telefone</label>
                                <input type="tel" id="phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent" placeholder="seu@email.com">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Plano Selecionado</label>
                                <div id="selectedPlan" class="px-4 py-2 bg-accent text-white rounded-lg">
                                    Selecione um plano acima
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Hor√°rio</label>
                                <select id="timeSlot" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent">
                                    <option value="">Selecione data e plano primeiro</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Equipamentos e Materiais Adicionais</label>
                                <div class="space-y-2 max-h-40 overflow-y-auto p-2 bg-gray-50 rounded-lg border border-gray-200">
                                    <label class="flex items-center text-sm"><input type="checkbox" value="fotopolimerizador" class="mr-2 text-accent focus:ring-accent"> Fotopolimerizador (R$ 5,00/h)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="ultrassom" class="mr-2 text-accent focus:ring-accent"> Ultrassom e jato (R$ 5,00/h)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="autoclave" class="mr-2 text-accent focus:ring-accent"> Autoclave (R$ 20,00/ciclo)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="laser" class="mr-2 text-accent focus:ring-accent"> Laser baixa pot√™ncia (R$ 20,00/h)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="raioX" class="mr-2 text-accent focus:ring-accent"> Raio X port√°til (R$ 50,00/h)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="kitDentistica" class="mr-2 text-accent focus:ring-accent"> Kit de dent√≠stica (R$ 20,00/h)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="kitProtese" class="mr-2 text-accent focus:ring-accent"> Kit de pr√≥tese (R$ 30,00/h)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="kitCirurgia" class="mr-2 text-accent focus:ring-accent"> Kit de cirurgia est√©ril (R$ 80,00/kit)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="kitClareamentoConsultorio" class="mr-2 text-accent focus:ring-accent"> Kit clareamento consult√≥rio (R$ 65,00/h)</label>
                                    <label class="flex items-center text-sm"><input type="checkbox" value="kitClareamentoCaseiro" class="mr-2 text-accent focus:ring-accent"> Kit clareamento caseiro (R$ 90,00/kit)</label>
                                </div>
                            </div>
                            
                            <div class="border-t pt-4">
                                <div class="flex justify-between items-center mb-4">
                                    <span class="font-semibold text-textdark">Total:</span>
                                    <span id="totalPrice" class="text-2xl font-bold text-accent">R$ 0,00</span>
                                </div>
                                
                                <button type="submit" class="w-full bg-accent text-white py-3 rounded-lg hover:bg-cyan-600 transition-colors font-semibold button-effect">
                                    Pagar com PIX
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="pixModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold text-center mb-6 text-textdark">Pagamento PIX</h3>
            
            <div class="text-center mb-6">
                <div class="w-48 h-48 bg-gray-200 rounded-lg mx-auto mb-4 flex items-center justify-center">
                    <div class="text-6xl">üì±</div>
                </div>
                <p class="text-gray-600 mb-2">Escaneie o QR Code com seu app do banco</p>
                <p class="text-sm text-gray-500">Ou copie a chave PIX abaixo:</p>
            </div>
            
            <div class="bg-primary bg-opacity-30 p-4 rounded-lg mb-6">
                <p class="text-xs text-textdark mb-2">Chave PIX:</p>
                <p id="pixKey" class="font-mono text-sm break-all text-textdark">galeria.coworking@exemplo.com</p>
                <button onclick="copyPixKey()" class="mt-2 text-accent text-sm hover:underline">Copiar chave</button>
            </div>
            
            <div class="text-center mb-6">
                <p class="text-lg font-semibold text-textdark">Valor: <span id="pixAmount" class="text-accent">R$ 0,00</span></p>
            </div>
            
            <div class="flex space-x-4">
                <button onclick="closePixModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-400 transition-colors">
                    Cancelar
                </button>
                <button onclick="confirmPayment()" class="flex-1 bg-accent text-white py-3 rounded-lg hover:bg-cyan-600 transition-colors button-effect">
                    Confirmar Pagamento
                </button>
            </div>
        </div>
    </div>

    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4 text-center">
            <div class="text-6xl mb-4 text-accent">‚úÖ</div>
            <h3 class="text-2xl font-bold text-accent mb-4">Reserva Confirmada!</h3>
            <p class="text-gray-600 mb-4">Sua reserva foi realizada com sucesso!</p>
            <div class="bg-primary bg-opacity-30 p-4 rounded-lg mb-6">
                <p class="text-sm text-textdark mb-2">üìß <strong>Confirma√ß√£o enviada para:</strong></p>
                <p id="confirmationEmail" class="text-textdark font-semibold"></p>
                <p class="text-xs text-gray-600 mt-2">Verifique sua caixa de entrada e spam</p>
            </div>
            <button onclick="closeSuccessModal()" class="bg-accent text-white px-6 py-3 rounded-lg hover:bg-cyan-600 transition-colors button-effect">
                Fechar
            </button>
        </div>
    </div>

</body>
</html>